## Server supporting IPv4 and IPv6Originally published: 2013-03-29 01:57:06 
Last updated: 2017-03-05 11:00:27 
Author: Giampaolo RodolÃ  
 
Utility functions to create a single server socket which able to listen on both IPv4 and IPv6. Inspired by:\nhttp://bugs.python.org/issue17561\n\nExpected usage:\n\n    >>> sock = create_server_sock(("", 8000))\n    >>> if not has_dual_stack(sock):\n    ...     sock.close()\n    ...     sock = MultipleSocketsListener([("0.0.0.0", 8000), ("::", 8000)])\n    >>>\n\nFrom here on you have a socket which listens on port 8000, all interfaces, serving both IPv4 and IPv6. You can start accepting new connections as usual:\n\n    >>> while True:\n    ...     conn, addr = sock.accept()\n    ...     # handle new connection\n\nSupports UNIX, Windows, non-blocking sockets and socket timeouts.\nWorks with Python >= 2.6 and 3.X.